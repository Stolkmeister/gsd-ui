---
phase: 8
plan: 3
type: implementation
wave: 2
depends_on: [8.2]
files_modified:
  - src/workers/emailDigest.js
  - src/services/emailRenderer.js
  - src/templates/digest.html
  - src/config/email.js
requirements:
  - TF-09
must_haves:
  - BullMQ worker for email digest processing
  - Configurable digest frequency (instant, hourly, daily)
  - HTML email templates with notification summary
  - Unsubscribe link in every email
---

# Plan 8.3: Email Digest Worker

## Objective
Build a background worker that batches notifications into email digests based on user preferences.

## Tasks
1. Set up BullMQ email digest queue
2. Implement digest aggregation by frequency setting
3. Create HTML email template with notification summary
4. Add unsubscribe token generation and handling
5. Configure SMTP transport with Nodemailer
